[{"name":"/#old/StripeDOmElementsUnused","nodes":[{"id":"6f1a99bb-b60a-fda3-46dd-8b702505f8de","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"c8541b23-ae4c-68b9-3416-996ee84df1ab","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"5515cbce-084f-979d-3898-c7b81b45861b","type":"Javascript2","parameters":{"code":"Script.Inputs = {\n    group:\"reference\",\n //   stripe: \"API\",\n   // clientSecret: \"clientSecret\"\n}\n\nScript.Signals = {\n  didMount() {\n    // Initialize Stripe.js\n    const stripe = Stripe(Script.Inputs.API);\n  \n \n\n// This is your test publishable API key.\n//const stripe = Stripe(\"pk_test_51PuZeG2K9xeQOzPgmKOUiqQcrJjhoE9rE7bvNAgwg5OeMybfmgovFCdDmE9KmhxZensw4XR6loysP5VWu5orbbH200ZM7qxpcJ\");\n\n// The items the customer wants to buy\nconst items = [{ id: \"xl-tshirt\", amount: 1000 }];\n  const dom = Script.Inputs.group.getDOMElement();\nlet elements;\n\n\n// Fetches a payment intent and captures the client secret\n\n  const clientSecret = Script.Inputs.clientSecret;\n\n  const appearance = {\n    theme: 'stripe',\n  };\n  elements = stripe.elements({ appearance, clientSecret });\n\n  const paymentElementOptions = {\n    layout: \"tabs\",\n  };\n\n  const paymentElement = elements.create(\"payment\", paymentElementOptions);\n  paymentElement.mount(dom);\n\n}}","scriptInputs":[]},"ports":[{"name":"group","plug":"input","type":{"name":"reference"},"group":"Inputs","index":5},{"name":"didMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"API","displayName":"API","plug":"input","type":"*","group":"Inputs","index":7},{"name":"clientSecret","displayName":"clientSecret","plug":"input","type":"*","group":"Inputs","index":8}],"children":[]}],"connections":[],"ports":[{"name":"Success","type":"*","plug":"output","index":0},{"name":"Do","type":"*","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1}],"roots":[]},{"name":"/products","nodes":[{"id":"1ddeeddf-bf78-6769-fe08-2a6f1a13e86e","type":"Group","parameters":{},"ports":[],"children":[{"id":"9087d4ac-80e4-4a10-a024-32006d8bc84f","type":"Text","parameters":{},"ports":[],"children":[]}]},{"id":"b378ecad-7452-4856-f38b-a3f54aaea898","type":"DbModel2","parameters":{"idSource":"foreach","collectionName":"products"},"ports":[],"children":[]},{"id":"97997857-607f-7153-2056-02a77eb8c58e","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst query = Noodl.Records.query;\nconst productId = Inputs.ProductId;\nconst currentDate = new Date();\n\nif (!productId) return;\n\ntry {\n  const productVersions = await query(\"product_versions\", {\n    product: { pointsTo: productId },\n    date_start: { lessThanOrEqualTo: currentDate },\n    date_end: { greaterThanOrEqualTo: currentDate },\n  });\n\n  if (productVersions.length > 0) {\n    Outputs.ProductVersions = productVersions;\n    Outputs.Success();\n  } else {\n    const baseVersion = await query(\"product_versions\", {\n      product: { pointsTo: productId },\n      baseVersion: { equalTo: true },\n    });\n\n    if (baseVersion.length > 0) {\n      Outputs.ProductVersions = baseVersion;\n      Outputs.Success();\n    } else {\n      Outputs.Failure();\n    }\n  }\n} catch (error) {\n  console.error(\"Error:\", error);\n  Outputs.Failure();\n  Outputs.error = error\n}\n"},"ports":[{"name":"in-ProductId","displayName":"ProductId","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-ProductVersions","displayName":"ProductVersions","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"58361b1a-a4f6-24c9-b007-bb3962099613","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"3a050f62-8bcc-943a-6d4a-e45d543f78af","type":"DbModel2","parameters":{"collectionName":"product_versions"},"ports":[],"children":[]}],"connections":[{"sourceId":"58361b1a-a4f6-24c9-b007-bb3962099613","sourcePort":"id","targetId":"97997857-607f-7153-2056-02a77eb8c58e","targetPort":"in-ProductId"},{"sourceId":"97997857-607f-7153-2056-02a77eb8c58e","sourcePort":"out-ProductVersions","targetId":"3a050f62-8bcc-943a-6d4a-e45d543f78af","targetPort":"modelId"},{"sourceId":"3a050f62-8bcc-943a-6d4a-e45d543f78af","sourcePort":"prop-version_name","targetId":"9087d4ac-80e4-4a10-a024-32006d8bc84f","targetPort":"text"}],"ports":[{"name":"id","type":"*","group":"Inputs","plug":"input","index":1}],"roots":["1ddeeddf-bf78-6769-fe08-2a6f1a13e86e"]},{"name":"/Show Toast/Error","nodes":[{"id":"bdccca71-32b5-8c47-7bed-2893b0a31426","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"fe6d90bb-7266-beab-6599-1b86a998cc9e","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Danger","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"145732f9-3a34-5787-244f-4cdb1e4c35ba","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F75A4F3F","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"b3bccc66-7a56-c2c3-6415-575e4508da49","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Danger"},"ports":[],"children":[]}]},{"id":"df143650-64ee-8ef1-abee-df202d5391c7","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]}],"connections":[{"sourceId":"bdccca71-32b5-8c47-7bed-2893b0a31426","sourcePort":"Message","targetId":"df143650-64ee-8ef1-abee-df202d5391c7","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["fe6d90bb-7266-beab-6599-1b86a998cc9e"]},{"name":"/Show Toast/Normal","nodes":[{"id":"f3f65f3e-2151-10e2-f3d9-7bf6a67057c7","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000026","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"height":{"value":56,"unit":"px"},"justifyContent":"center"},"ports":[],"children":[{"id":"31fc67a4-2ccf-7fd7-7a66-d24d1b011bbf","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Medium"},"ports":[],"children":[]}]},{"id":"009ca32f-d4b8-6343-0baf-bd9192408319","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"009ca32f-d4b8-6343-0baf-bd9192408319","sourcePort":"Message","targetId":"31fc67a4-2ccf-7fd7-7a66-d24d1b011bbf","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["f3f65f3e-2151-10e2-f3d9-7bf6a67057c7"]},{"name":"/Show Toast/Success","nodes":[{"id":"ce25bc66-22c2-b134-d25c-db33974fcd61","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000019","borderWidth":{"value":1,"unit":"px"},"borderColor":"Success","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"4d54a4b2-2359-4e49-cb3e-28f623ed03a2","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#49AD7F3F","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"6f4f422b-bc18-e4d0-314d-ba13102393c8","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"check_circle"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Success"},"ports":[],"children":[]}]},{"id":"67cc297e-9d03-ae50-85c2-8b3f499244af","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]},{"id":"c2adb309-008a-9ed8-3ca3-ada1253ba825","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c2adb309-008a-9ed8-3ca3-ada1253ba825","sourcePort":"Message","targetId":"67cc297e-9d03-ae50-85c2-8b3f499244af","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["ce25bc66-22c2-b134-d25c-db33974fcd61"]},{"name":"/Show Toast/Warning","nodes":[{"id":"d7e9b65d-1bdf-2b3d-2222-dfffd0859aea","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"93c8f591-c171-7aa2-a23a-d1cb7cfbec45","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Notice","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"e2e8ce1d-f1f1-b99a-4b71-2875cb71bdfd","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F2C4413F","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"dca2d389-af21-48c5-c6dd-bc0ddb95f76a","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"warning"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Notice"},"ports":[],"children":[]}]},{"id":"28b05049-8ae3-93f3-d804-14dbef07f2be","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]}],"connections":[{"sourceId":"d7e9b65d-1bdf-2b3d-2222-dfffd0859aea","sourcePort":"Message","targetId":"28b05049-8ae3-93f3-d804-14dbef07f2be","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["93c8f591-c171-7aa2-a23a-d1cb7cfbec45"]},{"name":"/Stripe","nodes":[{"id":"cae0203d-08de-d79b-f045-9de2db84771e","type":"Group","parameters":{},"ports":[],"children":[{"id":"3517446e-2a1b-5c98-edad-139520d6fa49","type":"module.inlineHtml","parameters":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Accept a payment</title>\n    <meta name=\"description\" content=\"A demo of a payment on Stripe\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <link rel=\"stylesheet\" href=\"checkout.css\" />\n    <script src=\"https://js.stripe.com/v3/\"></script>\n    <script src=\"checkout.js\" defer></script>\n  </head>\n  <body>\n    <!-- Display a payment form -->\n    <form id=\"payment-form\">\n      <div id=\"payment-element\">\n        <!--Stripe.js injects the Payment Element-->\n      </div>\n      <button id=\"submit\">\n        <div class=\"spinner hidden\" id=\"spinner\"></div>\n        <span id=\"button-text\">Pay now</span>\n      </button>\n      <div id=\"payment-message\" class=\"hidden\"></div>\n    </form>\n    <!-- [DEV]: For demo purposes only, display dynamic payment methods annotation and integration checker -->\n    <div id=\"dpm-annotation\">\n      <p>\n        Payment methods are dynamically displayed based on customer location, order amount, and currency.&nbsp;\n        <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\" id=\"dpm-integration-checker\">Preview payment methods by transaction</a>\n      </p>\n    </div>\n  </body>\n</html>"},"ports":[],"children":[]}]}],"connections":[],"ports":[],"roots":["cae0203d-08de-d79b-f045-9de2db84771e"]},{"name":"/Stripe/Payment/Buy Products","nodes":[{"id":"d6672461-d89c-31e8-8900-0c0d582cf335","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"77c0547c-e23d-e710-322d-90735cabb597","type":"CloudFunction2","parameters":{"function":"Stripe/Buy Products"},"ports":[],"children":[]},{"id":"4b368ee0-e760-9f62-a73e-e8ed0226ca92","type":"net.noodl.externallink","parameters":{},"ports":[],"children":[]},{"id":"065a6f34-d7da-c84a-8a7d-b5208d172392","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Do","targetId":"77c0547c-e23d-e710-322d-90735cabb597","targetPort":"call"},{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Items","targetId":"77c0547c-e23d-e710-322d-90735cabb597","targetPort":"in-Items"},{"sourceId":"77c0547c-e23d-e710-322d-90735cabb597","sourcePort":"success","targetId":"4b368ee0-e760-9f62-a73e-e8ed0226ca92","targetPort":"do"},{"sourceId":"77c0547c-e23d-e710-322d-90735cabb597","sourcePort":"out-Checkout Url","targetId":"4b368ee0-e760-9f62-a73e-e8ed0226ca92","targetPort":"link"},{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Open In New Tab","targetId":"4b368ee0-e760-9f62-a73e-e8ed0226ca92","targetPort":"openInNewTab"},{"sourceId":"77c0547c-e23d-e710-322d-90735cabb597","sourcePort":"success","targetId":"065a6f34-d7da-c84a-8a7d-b5208d172392","targetPort":"Success"},{"sourceId":"77c0547c-e23d-e710-322d-90735cabb597","sourcePort":"failure","targetId":"065a6f34-d7da-c84a-8a7d-b5208d172392","targetPort":"Failure"},{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Owner Id","targetId":"77c0547c-e23d-e710-322d-90735cabb597","targetPort":"in-Owner Id"},{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Customer Id","targetId":"77c0547c-e23d-e710-322d-90735cabb597","targetPort":"in-Customer Id"},{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Customer Name","targetId":"77c0547c-e23d-e710-322d-90735cabb597","targetPort":"in-Customer Name"},{"sourceId":"d6672461-d89c-31e8-8900-0c0d582cf335","sourcePort":"Customer Email","targetId":"77c0547c-e23d-e710-322d-90735cabb597","targetPort":"in-Customer Email"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Success","type":"signal","plug":"output","index":1},{"name":"Items","type":"*","group":"Parameters","plug":"input","index":1},{"name":"Failure","type":"signal","plug":"output","index":2},{"name":"Open In New Tab","type":"boolean","default":true,"plug":"input","index":2},{"name":"Owner Id","type":"*","group":"Parameters","plug":"input","index":3},{"name":"Customer Id","type":"*","group":"Parameters","plug":"input","index":4},{"name":"Customer Name","type":"*","group":"Parameters","plug":"input","index":5},{"name":"Customer Email","type":"*","group":"Parameters","plug":"input","index":6}],"roots":[]},{"name":"/Stripe/Subscriptions/Buy Plan","nodes":[{"id":"3087a5ef-4064-04ba-18c8-59b9d0650cec","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"039308ad-fddf-93fb-6724-cee626a3e5e1","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"433e7a87-92bb-804a-a336-4567237b1dc5","type":"CloudFunction2","parameters":{"function":"Stripe/Buy Plan"},"ports":[],"children":[]},{"id":"275b7ebf-b319-a9d3-88ad-c5b0cb0a1d4e","type":"net.noodl.externallink","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"3087a5ef-4064-04ba-18c8-59b9d0650cec","sourcePort":"Do","targetId":"433e7a87-92bb-804a-a336-4567237b1dc5","targetPort":"call"},{"sourceId":"3087a5ef-4064-04ba-18c8-59b9d0650cec","sourcePort":"Price Id","targetId":"433e7a87-92bb-804a-a336-4567237b1dc5","targetPort":"in-PriceId"},{"sourceId":"433e7a87-92bb-804a-a336-4567237b1dc5","sourcePort":"success","targetId":"039308ad-fddf-93fb-6724-cee626a3e5e1","targetPort":"Success"},{"sourceId":"433e7a87-92bb-804a-a336-4567237b1dc5","sourcePort":"failure","targetId":"039308ad-fddf-93fb-6724-cee626a3e5e1","targetPort":"Failure"},{"sourceId":"3087a5ef-4064-04ba-18c8-59b9d0650cec","sourcePort":"Customer Id","targetId":"433e7a87-92bb-804a-a336-4567237b1dc5","targetPort":"in-Customer Id"},{"sourceId":"3087a5ef-4064-04ba-18c8-59b9d0650cec","sourcePort":"Customer Name","targetId":"433e7a87-92bb-804a-a336-4567237b1dc5","targetPort":"in-Customer Name"},{"sourceId":"3087a5ef-4064-04ba-18c8-59b9d0650cec","sourcePort":"Customer Email","targetId":"433e7a87-92bb-804a-a336-4567237b1dc5","targetPort":"in-Customer Email"},{"sourceId":"433e7a87-92bb-804a-a336-4567237b1dc5","sourcePort":"success","targetId":"275b7ebf-b319-a9d3-88ad-c5b0cb0a1d4e","targetPort":"do"},{"sourceId":"433e7a87-92bb-804a-a336-4567237b1dc5","sourcePort":"out-CheckoutUrl","targetId":"275b7ebf-b319-a9d3-88ad-c5b0cb0a1d4e","targetPort":"link"},{"sourceId":"3087a5ef-4064-04ba-18c8-59b9d0650cec","sourcePort":"Owner Id","targetId":"433e7a87-92bb-804a-a336-4567237b1dc5","targetPort":"in-Owner Id"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"Price Id","type":"*","group":"Parameters","plug":"input","index":1},{"name":"Checkout Url","type":"*","plug":"output","index":2},{"name":"Customer Id","type":"*","group":"Parameters","plug":"input","index":2},{"name":"Session Id","type":"*","plug":"output","index":3},{"name":"Customer Name","type":"*","group":"Parameters","plug":"input","index":3},{"name":"Customer Email","type":"*","group":"Parameters","plug":"input","index":4},{"name":"Owner Id","type":"*","group":"Parameters","plug":"input","index":5}],"roots":[]},{"name":"/Stripe/Subscriptions/Current Plan Badge","nodes":[{"id":"b0bbbb29-6a6d-f572-6556-dceecaf59e7e","type":"Group","parameters":{"sizeMode":"contentSize","backgroundColor":"Grey - 200","paddingLeft":{"value":28,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"paddingBottom":{"value":30,"unit":"px"},"paddingRight":{"value":28,"unit":"px"},"borderRadius":{"value":5,"unit":"px"},"minWidth":{"value":300,"unit":"px"},"minHeight":{"value":150,"unit":"px"},"borderStyle":"solid","borderColor":"Grey - 400","borderWidth":{"value":1,"unit":"px"}},"ports":[],"children":[{"id":"d889336a-f8e7-6701-1a17-9c9d7e1aa1f9","type":"Image","parameters":{"src":"Rolling-1s-200px.svg","sizeMode":"explicit","width":{"value":30,"unit":"px"},"height":{"value":30,"unit":"px"},"alignY":"top","alignX":"right","position":"absolute","marginRight":{"value":10,"unit":"px"},"marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"7cdbd565-15b1-4be9-7d1d-98a55d1cd723","type":"Group","parameters":{},"ports":[],"children":[{"id":"df514adb-8807-b673-eb30-e6b4598d4d7a","type":"Text","parameters":{"textStyle":"Title Large","color":"Grey - 900"},"ports":[],"children":[]},{"id":"6b59cf5c-520c-c822-9ef8-6f2ca56728e9","type":"Text","parameters":{"textStyle":"Title Small","marginBottom":{"value":15,"unit":"px"},"color":"Primary"},"ports":[],"children":[]},{"id":"95cd6dfe-00f6-37a5-3fd2-66daf8d20861","type":"Text","parameters":{"textStyle":"Body Medium","color":"Grey - 900","width":{"value":100,"unit":"%"}},"ports":[],"children":[]},{"id":"4efc9666-fb4c-7aa6-697e-77bccc66481e","type":"Group","parameters":{"mounted":false},"ports":[],"children":[{"id":"b80f5969-269e-a703-5e16-c8ddf28f6c4a","type":"Text","parameters":{"marginTop":{"value":20,"unit":"px"},"textStyle":"Body Medium","text":"This plan will cancel at the end of this period.","color":"Grey - 900"},"ports":[],"children":[]},{"id":"359b6ec7-2159-e700-b310-ba4fa256da25","type":"net.noodl.controls.button","parameters":{"label":"Renew plan","borderRadius":{"value":2,"unit":"px"},"paddingRight":{"value":30,"unit":"px"},"paddingLeft":{"value":30,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Primary","backgroundColor":"transparent","color":"Primary","sizeMode":"explicit","width":{"value":80,"unit":"%"},"alignX":"center","marginTop":{"value":25,"unit":"px"}},"ports":[],"children":[]}]},{"id":"40df5bfa-4594-b130-b018-0423be70f9e6","type":"Group","parameters":{"flexDirection":"column","marginTop":{"value":5,"unit":"px"},"alignX":"center","alignItems":"center"},"ports":[],"children":[{"id":"638ac74b-69f2-600f-d002-df5861bb2a1c","type":"net.noodl.controls.button","parameters":{"marginTop":{"value":25,"unit":"px"},"label":"Cancel plan","mounted":false,"borderStyle":"solid","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","color":"Primary","marginRight":{"value":0,"unit":"px"},"marginBottom":{"value":5,"unit":"px"},"sizeMode":"explicit","width":{"value":80,"unit":"%"}},"ports":[],"children":[]},{"id":"da1568b3-e849-aabc-cbde-6cfab5290717","type":"net.noodl.controls.button","parameters":{"label":"Upgrade plan","marginTop":{"value":0,"unit":"px"},"sizeMode":"explicit","width":{"value":80,"unit":"%"}},"ports":[],"children":[]}]}]}]},{"id":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","type":"CloudFunction2","parameters":{"function":"Stripe/Get Current Plan"},"ports":[],"children":[]},{"id":"86575e0a-00ce-a707-da9d-d8e5a79d5d5b","type":"Model2","parameters":{"properties":"Name,Desc,Title"},"ports":[],"children":[]},{"id":"88951c42-9275-c34c-c201-45c0420b69ec","type":"Expression","parameters":{"expression":"Plan!==\"free\" && !CancelAtPeridodEnd"},"ports":[],"children":[]},{"id":"209cccb7-d9cb-d77c-b3c5-20355018637c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","type":"States","parameters":{"states":"Yes,No"},"ports":[],"children":[]},{"id":"16acdcb6-9d58-3144-f440-8945c454ec20","type":"CloudFunction2","parameters":{"function":"Stripe/Cancel Plan"},"ports":[],"children":[]},{"id":"a6de9e80-7eec-840a-96a4-7264b1491ead","type":"CloudFunction2","parameters":{"function":"Stripe/Renew Plan"},"ports":[],"children":[]},{"id":"a33f3146-43cd-7f5d-260c-62d9dd86167b","type":"Condition","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Price Id","targetId":"86575e0a-00ce-a707-da9d-d8e5a79d5d5b","targetPort":"modelId"},{"sourceId":"86575e0a-00ce-a707-da9d-d8e5a79d5d5b","sourcePort":"prop-Desc","targetId":"95cd6dfe-00f6-37a5-3fd2-66daf8d20861","targetPort":"text"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Product Id","targetId":"88951c42-9275-c34c-c201-45c0420b69ec","targetPort":"Plan"},{"sourceId":"88951c42-9275-c34c-c201-45c0420b69ec","sourcePort":"isTrue","targetId":"638ac74b-69f2-600f-d002-df5861bb2a1c","targetPort":"mounted"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Cancel At Period End","targetId":"88951c42-9275-c34c-c201-45c0420b69ec","targetPort":"CancelAtPeridodEnd"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Cancel At Period End","targetId":"4efc9666-fb4c-7aa6-697e-77bccc66481e","targetPort":"mounted"},{"sourceId":"209cccb7-d9cb-d77c-b3c5-20355018637c","sourcePort":"Customer Id","targetId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","targetPort":"in-Customer Id"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Subscription Id","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Subscription Id"},{"sourceId":"da1568b3-e849-aabc-cbde-6cfab5290717","sourcePort":"onClick","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Upgrade"},{"sourceId":"b0bbbb29-6a6d-f572-6556-dceecaf59e7e","sourcePort":"didMount","targetId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","targetPort":"call"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"success","targetId":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","targetPort":"to-No"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"failure","targetId":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","targetPort":"to-No"},{"sourceId":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","sourcePort":"at-Yes","targetId":"d889336a-f8e7-6701-1a17-9c9d7e1aa1f9","targetPort":"mounted"},{"sourceId":"359b6ec7-2159-e700-b310-ba4fa256da25","sourcePort":"onClick","targetId":"a6de9e80-7eec-840a-96a4-7264b1491ead","targetPort":"call"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Subscription Id","targetId":"a6de9e80-7eec-840a-96a4-7264b1491ead","targetPort":"in-Subscription Id"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Subscription Id","targetId":"16acdcb6-9d58-3144-f440-8945c454ec20","targetPort":"in-Subscription Id"},{"sourceId":"a6de9e80-7eec-840a-96a4-7264b1491ead","sourcePort":"success","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Plan Renewed"},{"sourceId":"a6de9e80-7eec-840a-96a4-7264b1491ead","sourcePort":"failure","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Failure"},{"sourceId":"a6de9e80-7eec-840a-96a4-7264b1491ead","sourcePort":"error","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Error"},{"sourceId":"16acdcb6-9d58-3144-f440-8945c454ec20","sourcePort":"success","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Plan Canceled"},{"sourceId":"16acdcb6-9d58-3144-f440-8945c454ec20","sourcePort":"failure","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Failure"},{"sourceId":"16acdcb6-9d58-3144-f440-8945c454ec20","sourcePort":"error","targetId":"fcbeee1f-d6a9-66e0-9b79-5665fd095f53","targetPort":"Error"},{"sourceId":"638ac74b-69f2-600f-d002-df5861bb2a1c","sourcePort":"onClick","targetId":"16acdcb6-9d58-3144-f440-8945c454ec20","targetPort":"call"},{"sourceId":"209cccb7-d9cb-d77c-b3c5-20355018637c","sourcePort":"Refresh","targetId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","targetPort":"call"},{"sourceId":"209cccb7-d9cb-d77c-b3c5-20355018637c","sourcePort":"Refresh","targetId":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","targetPort":"to-Yes"},{"sourceId":"a6de9e80-7eec-840a-96a4-7264b1491ead","sourcePort":"success","targetId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","targetPort":"call"},{"sourceId":"16acdcb6-9d58-3144-f440-8945c454ec20","sourcePort":"success","targetId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","targetPort":"call"},{"sourceId":"359b6ec7-2159-e700-b310-ba4fa256da25","sourcePort":"onClick","targetId":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","targetPort":"to-Yes"},{"sourceId":"d5783b2b-7c4a-6927-74c9-fc7f55fcb1db","sourcePort":"out-Price Id","targetId":"a33f3146-43cd-7f5d-260c-62d9dd86167b","targetPort":"condition"},{"sourceId":"a33f3146-43cd-7f5d-260c-62d9dd86167b","sourcePort":"result","targetId":"7cdbd565-15b1-4be9-7d1d-98a55d1cd723","targetPort":"mounted"},{"sourceId":"638ac74b-69f2-600f-d002-df5861bb2a1c","sourcePort":"onClick","targetId":"0f3f7bf5-33c8-3dde-4630-7b62e0273560","targetPort":"to-Yes"},{"sourceId":"86575e0a-00ce-a707-da9d-d8e5a79d5d5b","sourcePort":"prop-Title","targetId":"df514adb-8807-b673-eb30-e6b4598d4d7a","targetPort":"text"},{"sourceId":"86575e0a-00ce-a707-da9d-d8e5a79d5d5b","sourcePort":"prop-Name","targetId":"6b59cf5c-520c-c822-9ef8-6f2ca56728e9","targetPort":"text"}],"ports":[{"name":"Customer Id","type":"*","group":"Parameters","plug":"input","index":1},{"name":"Refresh","type":{"name":"signal","allowConnectionsOnly":true},"plug":"input","index":2},{"name":"Upgrade","type":"signal","plug":"output","index":3},{"name":"Subscription Id","type":"*","plug":"output","index":4},{"name":"Plan Canceled","type":"signal","plug":"output","index":5},{"name":"Plan Renewed","type":"signal","plug":"output","index":6},{"name":"Failure","type":{"name":"signal"},"plug":"output","index":7},{"name":"Error","type":{"name":"string"},"plug":"output","index":8}],"roots":["b0bbbb29-6a6d-f572-6556-dceecaf59e7e"]},{"name":"/Stripe/Subscriptions/Plan Picker","nodes":[{"id":"c1d230a6-c39e-bb3f-a94d-f60257acb7fc","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"center"},"ports":[],"children":[{"id":"c703c48c-5d75-2f72-ef39-e364caeae809","type":"Image","parameters":{"src":"Rolling-1s-200px.svg","sizeMode":"explicit","width":{"value":70,"unit":"px"},"height":{"value":50,"unit":"px"},"alignY":"center","alignX":"center"},"ports":[],"children":[]},{"id":"8551c772-aecc-7c5d-a695-f0887fc5f52a","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"center"},"ports":[],"children":[{"id":"c70c73f7-f088-0546-be86-a06c9649c2fe","type":"/Tab Bar","parameters":{"Items":"[\n    {\n        Label:\"Monthly\",\n        Value:\"month\"\n    },\n    {\n        Label:\"Yearly\",\n        Value:\"year\"\n    },\n\n]","Selected Tab":"month"},"ports":[],"children":[]},{"id":"dbaa0af3-35b8-8976-7939-e80dbd4e824f","type":"Group","parameters":{"flexDirection":"row","sizeMode":"explicit","alignX":"center","marginTop":{"value":30,"unit":"px"}},"ports":[],"children":[{"id":"3252b02e-2166-60ac-2f2a-69c53ecc8411","type":"For Each","parameters":{"template":"/Stripe/Subscriptions/Plan Picker/Plan"},"ports":[],"children":[]}]}]}]},{"id":"b2c33099-3bbb-a34f-5083-150503dbceb8","type":"CloudFunction2","parameters":{"function":"Stripe/Change Plan"},"ports":[],"children":[]},{"id":"ab0e089c-c30a-638d-a115-2fdeea28398a","type":"Collection2","parameters":{"collectionId":"Plans"},"ports":[],"children":[]},{"id":"d616a0ce-7e8f-eb76-9ab4-58e759bdbd18","type":"JavaScriptFunction","parameters":{"functionScript":"const period = Inputs.Period;\n\nOutputs.Items = Inputs.Items.filter(i => i.PriceId !== 'free' && i.Period === period)"},"ports":[{"name":"in-Period","displayName":"Period","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Items","displayName":"Items","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","type":"CloudFunction2","parameters":{"function":"Stripe/Get Current Plan"},"ports":[],"children":[]},{"id":"03dc987a-f274-5645-8ed2-56d22c0fb5ba","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"91b20fc7-27a5-bbb7-310a-0b350f69a9fa","type":"net.noodl.ComponentObject","parameters":{"properties":"CurrentPriceId"},"ports":[],"children":[]},{"id":"6c1fd42f-67d8-e4ee-f0bf-4d7e672a5676","type":"States","parameters":{"states":"Yes,No"},"ports":[],"children":[]},{"id":"a15010f3-c36c-269b-6b6c-790a6cc430f3","type":"/Stripe/Subscriptions/Buy Plan","parameters":{},"ports":[],"children":[]},{"id":"b7f0f875-5022-ad57-450b-9f43c525404d","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"3252b02e-2166-60ac-2f2a-69c53ecc8411","sourcePort":"itemOutputSignal-Upgrade","targetId":"b2c33099-3bbb-a34f-5083-150503dbceb8","targetPort":"call"},{"sourceId":"3252b02e-2166-60ac-2f2a-69c53ecc8411","sourcePort":"itemOutput-PriceId","targetId":"b2c33099-3bbb-a34f-5083-150503dbceb8","targetPort":"in-PriceId"},{"sourceId":"ab0e089c-c30a-638d-a115-2fdeea28398a","sourcePort":"items","targetId":"d616a0ce-7e8f-eb76-9ab4-58e759bdbd18","targetPort":"in-Items"},{"sourceId":"d616a0ce-7e8f-eb76-9ab4-58e759bdbd18","sourcePort":"out-Items","targetId":"3252b02e-2166-60ac-2f2a-69c53ecc8411","targetPort":"items"},{"sourceId":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","sourcePort":"out-Subscription Id","targetId":"b2c33099-3bbb-a34f-5083-150503dbceb8","targetPort":"in-Subscription Id"},{"sourceId":"c1d230a6-c39e-bb3f-a94d-f60257acb7fc","sourcePort":"didMount","targetId":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","targetPort":"call"},{"sourceId":"03dc987a-f274-5645-8ed2-56d22c0fb5ba","sourcePort":"Customer Id","targetId":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","targetPort":"in-Customer Id"},{"sourceId":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","sourcePort":"out-Price Id","targetId":"91b20fc7-27a5-bbb7-310a-0b350f69a9fa","targetPort":"value-CurrentPriceId"},{"sourceId":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","sourcePort":"success","targetId":"6c1fd42f-67d8-e4ee-f0bf-4d7e672a5676","targetPort":"to-No"},{"sourceId":"cc3d7b9e-8f48-d833-53c3-fc5aedbc48c4","sourcePort":"failure","targetId":"6c1fd42f-67d8-e4ee-f0bf-4d7e672a5676","targetPort":"to-No"},{"sourceId":"6c1fd42f-67d8-e4ee-f0bf-4d7e672a5676","sourcePort":"at-Yes","targetId":"c703c48c-5d75-2f72-ef39-e364caeae809","targetPort":"mounted"},{"sourceId":"6c1fd42f-67d8-e4ee-f0bf-4d7e672a5676","sourcePort":"at-No","targetId":"8551c772-aecc-7c5d-a695-f0887fc5f52a","targetPort":"mounted"},{"sourceId":"3252b02e-2166-60ac-2f2a-69c53ecc8411","sourcePort":"itemOutputSignal-Buy","targetId":"a15010f3-c36c-269b-6b6c-790a6cc430f3","targetPort":"Do"},{"sourceId":"3252b02e-2166-60ac-2f2a-69c53ecc8411","sourcePort":"itemOutput-PriceId","targetId":"a15010f3-c36c-269b-6b6c-790a6cc430f3","targetPort":"Price Id"},{"sourceId":"b2c33099-3bbb-a34f-5083-150503dbceb8","sourcePort":"success","targetId":"b7f0f875-5022-ad57-450b-9f43c525404d","targetPort":"Plan Changed"},{"sourceId":"b2c33099-3bbb-a34f-5083-150503dbceb8","sourcePort":"failure","targetId":"b7f0f875-5022-ad57-450b-9f43c525404d","targetPort":"Failure"},{"sourceId":"b2c33099-3bbb-a34f-5083-150503dbceb8","sourcePort":"error","targetId":"b7f0f875-5022-ad57-450b-9f43c525404d","targetPort":"Error"},{"sourceId":"03dc987a-f274-5645-8ed2-56d22c0fb5ba","sourcePort":"Customer Id","targetId":"a15010f3-c36c-269b-6b6c-790a6cc430f3","targetPort":"Customer Id"},{"sourceId":"03dc987a-f274-5645-8ed2-56d22c0fb5ba","sourcePort":"Owner Id","targetId":"a15010f3-c36c-269b-6b6c-790a6cc430f3","targetPort":"Owner Id"},{"sourceId":"c70c73f7-f088-0546-be86-a06c9649c2fe","sourcePort":"Selected Tab","targetId":"d616a0ce-7e8f-eb76-9ab4-58e759bdbd18","targetPort":"in-Period"}],"ports":[{"name":"Plan Changed","type":"signal","plug":"output","index":1},{"name":"Customer Id","type":{"name":"*"},"group":"Parameters","plug":"input","index":1},{"name":"Failure","type":"signal","plug":"output","index":2},{"name":"Owner Id","type":"*","group":"Parameters","plug":"input","index":2},{"name":"Error","type":"string","plug":"output","index":3}],"roots":["c1d230a6-c39e-bb3f-a94d-f60257acb7fc"]},{"name":"/Stripe/Subscriptions/Plan Picker/Detail","nodes":[{"id":"c6ee973b-1edb-b255-2d3c-f1201684c08c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"d4b2fa4e-b961-3ca7-f61d-6da3bf56ce6c","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.IconSource = {\n    'class': \"material-icons\",\n    'code': Inputs.InPlan?\"check\":\"close\"\n}\n\nOutputs.IconColor = Inputs.InPlan?Inputs.SuccessColor:Inputs.FailureColor\n","scriptInputs":[{"id":"4yrd","label":"SuccessColor"},{"id":"lm1i","label":"FailureColor"},{"id":"646n","label":"DefaultColor"}],"intype-SuccessColor":"color","in-SuccessColor":"#49AD7F","intype-FailureColor":"color","in-FailureColor":"#F75A4F","intype-DefaultColor":"color","in-DefaultColor":"#000000"},"ports":[{"name":"intype-SuccessColor","displayName":"Type","editorName":"SuccessColor | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"4yrd","index":4},{"name":"in-SuccessColor","displayName":"SuccessColor","plug":"input","type":"color","group":"Inputs","index":5},{"name":"intype-FailureColor","displayName":"Type","editorName":"FailureColor | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"lm1i","index":6},{"name":"in-FailureColor","displayName":"FailureColor","plug":"input","type":"color","group":"Inputs","index":7},{"name":"intype-DefaultColor","displayName":"Type","editorName":"DefaultColor | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"646n","index":8},{"name":"in-DefaultColor","displayName":"DefaultColor","plug":"input","type":"color","group":"Inputs","index":9},{"name":"in-InPlan","displayName":"InPlan","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-IconSource","displayName":"IconSource","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-IconColor","displayName":"IconColor","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"512e4a38-404c-c396-e3d9-95ee553a598c","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","alignX":"center"},"ports":[],"children":[{"id":"cc8b8815-4f57-be75-44e4-83c041560996","type":"net.noodl.visual.icon","parameters":{"marginRight":{"value":4,"unit":"px"},"alignY":"center"},"ports":[],"children":[]},{"id":"988020df-b348-82a3-608d-a89a420aa8f3","type":"Text","parameters":{"textStyle":"Body Small"},"ports":[],"children":[]}]}],"connections":[{"sourceId":"c6ee973b-1edb-b255-2d3c-f1201684c08c","sourcePort":"Text","targetId":"988020df-b348-82a3-608d-a89a420aa8f3","targetPort":"text"},{"sourceId":"d4b2fa4e-b961-3ca7-f61d-6da3bf56ce6c","sourcePort":"out-IconColor","targetId":"cc8b8815-4f57-be75-44e4-83c041560996","targetPort":"iconColor"},{"sourceId":"d4b2fa4e-b961-3ca7-f61d-6da3bf56ce6c","sourcePort":"out-IconSource","targetId":"cc8b8815-4f57-be75-44e4-83c041560996","targetPort":"iconIconSource"},{"sourceId":"c6ee973b-1edb-b255-2d3c-f1201684c08c","sourcePort":"InPlan","targetId":"d4b2fa4e-b961-3ca7-f61d-6da3bf56ce6c","targetPort":"in-InPlan"}],"ports":[{"name":"Text","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":1},{"name":"InPlan","type":"*","group":"Inputs","plug":"input","index":2}],"roots":["512e4a38-404c-c396-e3d9-95ee553a598c"]},{"name":"/Stripe/Subscriptions/Plan Picker/Plan","nodes":[{"id":"629c1763-f922-9afa-30de-5ec2879bf489","type":"Group","parameters":{"borderRadius":{"value":4,"unit":"px"},"paddingBottom":{"value":24,"unit":"px"},"paddingTop":{"value":24,"unit":"px"},"backgroundColor":"Grey - 200","sizeMode":"explicit","height":{"value":260,"unit":"px"},"marginRight":{"value":20,"unit":"px"},"flexDirection":"column","position":"relative","borderStyle":"solid","borderColor":"Grey - 300","borderWidth":{"value":1,"unit":"px"}},"ports":[],"children":[{"id":"60f4b65a-fd10-4ca9-fdf1-7b87712bae9b","type":"Text","parameters":{"sizeMode":"contentSize","alignX":"center","text":"Name","textStyle":"Label Medium","color":"Grey - 700"},"ports":[],"children":[]},{"id":"f75230a0-b141-fc8d-9514-0b89398c5bf0","type":"Text","parameters":{"sizeMode":"contentSize","alignX":"center","text":"$99","textStyle":"Title Large","marginBottom":{"value":20,"unit":"px"},"marginTop":{"value":5,"unit":"px"},"color":"Grey - 900"},"ports":[],"children":[]},{"id":"ca106166-cada-20c3-b417-84b899855e7b","type":"For Each","parameters":{"template":"/Stripe/Subscriptions/Plan Picker/Detail"},"ports":[],"children":[]},{"id":"00d9e749-70fc-1230-66bf-4a601965db71","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"center"},"ports":[],"children":[{"id":"088fefd2-9dd3-df93-664d-96c6ef8649bb","type":"Text","parameters":{"marginTop":{"value":25,"unit":"px"},"text":"This is your current plan.","alignX":"center","color":"Primary Dark"},"ports":[],"children":[]},{"id":"2d21508b-efd2-16bf-6c83-48ee1d18eda3","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"center","alignY":"bottom","marginBottom":{"value":24,"unit":"px"},"marginTop":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"6af3b265-446b-7c8d-bc3a-e6ca340e514f","type":"net.noodl.controls.button","parameters":{"label":"Choose plan"},"ports":[],"children":[]},{"id":"de25583d-6b5d-7a34-466c-a9e2f0a132f5","type":"net.noodl.controls.button","parameters":{"label":"Buy"},"ports":[],"children":[]}]}]}]},{"id":"17734a29-0ecc-44f5-fed1-a68270e578d0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"2edbe088-7975-72de-33a0-200341a0985f","type":"States","parameters":{"states":"Yes,No","currentState":"No","useTransitions":false,"values":"BgColor","type-BgColor":"color","value-Yes-BgColor":"Grey - 200","value-No-BgColor":"White"},"ports":[],"children":[]},{"id":"cace6f42-b796-0992-d4c2-1ad73f8edb41","type":"Expression","parameters":{"expression":"(PriceId===CurrentPriceId)?\"Yes\":\"No\""},"ports":[],"children":[]},{"id":"d9a6c481-4daa-638a-3696-49f4110aa001","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"9fd1224f-c869-49ed-3545-083eec4bca7c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"48ef27df-ceea-a1b1-3e7f-88d07a1f81bd","type":"Expression","parameters":{"expression":"Plan!==\"free\""},"ports":[],"children":[]},{"id":"a8e943dd-6e20-f356-3989-0b327899f5c7","type":"net.noodl.ParentComponentObject","parameters":{"properties":"CurrentPriceId"},"ports":[],"children":[]}],"connections":[{"sourceId":"17734a29-0ecc-44f5-fed1-a68270e578d0","sourcePort":"Name","targetId":"60f4b65a-fd10-4ca9-fdf1-7b87712bae9b","targetPort":"text"},{"sourceId":"cace6f42-b796-0992-d4c2-1ad73f8edb41","sourcePort":"result","targetId":"2edbe088-7975-72de-33a0-200341a0985f","targetPort":"currentState"},{"sourceId":"2edbe088-7975-72de-33a0-200341a0985f","sourcePort":"BgColor","targetId":"629c1763-f922-9afa-30de-5ec2879bf489","targetPort":"backgroundColor"},{"sourceId":"9fd1224f-c869-49ed-3545-083eec4bca7c","sourcePort":"id","targetId":"d9a6c481-4daa-638a-3696-49f4110aa001","targetPort":"PriceId"},{"sourceId":"2edbe088-7975-72de-33a0-200341a0985f","sourcePort":"at-No","targetId":"2d21508b-efd2-16bf-6c83-48ee1d18eda3","targetPort":"mounted"},{"sourceId":"6af3b265-446b-7c8d-bc3a-e6ca340e514f","sourcePort":"onClick","targetId":"d9a6c481-4daa-638a-3696-49f4110aa001","targetPort":"Upgrade"},{"sourceId":"17734a29-0ecc-44f5-fed1-a68270e578d0","sourcePort":"Buttons","targetId":"00d9e749-70fc-1230-66bf-4a601965db71","targetPort":"mounted"},{"sourceId":"17734a29-0ecc-44f5-fed1-a68270e578d0","sourcePort":"id","targetId":"cace6f42-b796-0992-d4c2-1ad73f8edb41","targetPort":"PriceId"},{"sourceId":"de25583d-6b5d-7a34-466c-a9e2f0a132f5","sourcePort":"onClick","targetId":"d9a6c481-4daa-638a-3696-49f4110aa001","targetPort":"Buy"},{"sourceId":"48ef27df-ceea-a1b1-3e7f-88d07a1f81bd","sourcePort":"isFalse","targetId":"de25583d-6b5d-7a34-466c-a9e2f0a132f5","targetPort":"mounted"},{"sourceId":"48ef27df-ceea-a1b1-3e7f-88d07a1f81bd","sourcePort":"isTrue","targetId":"6af3b265-446b-7c8d-bc3a-e6ca340e514f","targetPort":"mounted"},{"sourceId":"a8e943dd-6e20-f356-3989-0b327899f5c7","sourcePort":"value-CurrentPriceId","targetId":"cace6f42-b796-0992-d4c2-1ad73f8edb41","targetPort":"CurrentPriceId"},{"sourceId":"a8e943dd-6e20-f356-3989-0b327899f5c7","sourcePort":"value-CurrentPriceId","targetId":"48ef27df-ceea-a1b1-3e7f-88d07a1f81bd","targetPort":"Plan"},{"sourceId":"17734a29-0ecc-44f5-fed1-a68270e578d0","sourcePort":"Price","targetId":"f75230a0-b141-fc8d-9514-0b89398c5bf0","targetPort":"text"},{"sourceId":"17734a29-0ecc-44f5-fed1-a68270e578d0","sourcePort":"Details","targetId":"ca106166-cada-20c3-b417-84b899855e7b","targetPort":"items"},{"sourceId":"2edbe088-7975-72de-33a0-200341a0985f","sourcePort":"at-Yes","targetId":"088fefd2-9dd3-df93-664d-96c6ef8649bb","targetPort":"mounted"}],"ports":[{"name":"Upgrade","type":"signal","plug":"output","index":1},{"name":"Name","type":{"name":"string","multiline":true},"default":"Name","group":"Text","plug":"input","index":1},{"name":"PriceId","type":{"name":"*"},"plug":"output","index":2},{"name":"Desc","type":"*","plug":"input","index":2},{"name":"Cancel","type":"*","plug":"output","index":3},{"name":"ProductId","type":"*","plug":"input","index":3},{"name":"Buy","type":"signal","plug":"output","index":4},{"name":"Buttons","type":"boolean","default":true,"group":"General","plug":"input","index":4},{"name":"id","type":{"name":"*"},"group":"Parameters","plug":"input","index":5},{"name":"Price","type":{"name":"string","multiline":true},"default":"$99","group":"Text","plug":"input","index":6},{"name":"Details","type":"array","group":"Data","plug":"input","index":7}],"roots":["629c1763-f922-9afa-30de-5ec2879bf489"]},{"name":"/Tab Bar","nodes":[{"id":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 300","flexDirection":"row","clip":true,"alignY":"center","borderStyle":"solid","width":{"value":50,"unit":"%"},"alignX":"center"},"ports":[],"children":[{"id":"76c9b30e-fa86-e163-85d9-5150e91bdcc2","type":"For Each","parameters":{"template":"/Tab Bar/Tab Bar Item"},"ports":[],"children":[]}]},{"id":"43616202-a727-5288-a602-887727133f09","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"b2e82e2d-d0cf-83e8-dfee-71273860cb1d","type":"net.noodl.ComponentObject","parameters":{"properties":"Selected Tab,Selected Tab Changed"},"ports":[],"children":[]},{"id":"ee906d8e-856b-ba55-dbde-fafd2ab85c8d","type":"net.noodl.SetComponentObjectProperties","parameters":{"properties":"Selected Tab"},"ports":[],"children":[]},{"id":"698f0378-716b-3742-4149-fcbb4b5d220b","type":"Model2","parameters":{"properties":"Value"},"ports":[],"children":[]},{"id":"a6af2b38-5d77-3895-9004-7b174c2f65e9","type":"String","parameters":{},"ports":[],"children":[]},{"id":"3c21bf59-6d04-7f77-3524-52e610e1e738","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"qhkk","label":"Items"}],"intype-Items":"array","in-Items":"[\n    {\n        Label:\"Monthly\",\n        Value:\"1\"\n    },\n    {\n        Label:\"Yearly\",\n        Value:\"2\"\n    },\n\n]","functionScript":"Outputs.Items = Inputs.Items"},"ports":[{"name":"intype-Items","displayName":"Type","editorName":"Items | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"qhkk","index":4},{"name":"in-Items","displayName":"Items","plug":"input","type":"array","group":"Inputs","index":5},{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"4950f667-d517-d323-4e47-cb69578c339e","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"76c9b30e-fa86-e163-85d9-5150e91bdcc2","sourcePort":"itemActionItemId","targetId":"698f0378-716b-3742-4149-fcbb4b5d220b","targetPort":"modelId"},{"sourceId":"698f0378-716b-3742-4149-fcbb4b5d220b","sourcePort":"prop-Value","targetId":"ee906d8e-856b-ba55-dbde-fafd2ab85c8d","targetPort":"prop-Selected Tab"},{"sourceId":"76c9b30e-fa86-e163-85d9-5150e91bdcc2","sourcePort":"itemOutputSignal-Item Clicked","targetId":"ee906d8e-856b-ba55-dbde-fafd2ab85c8d","targetPort":"store"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Margin Top","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"marginTop"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Margin Left","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"marginLeft"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Margin Bottom","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"marginBottom"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Margin Right","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"marginRight"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Position","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"position"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Align X","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"alignX"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Align Y","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"alignY"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Width","targetId":"9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6","targetPort":"width"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Selected Tab","targetId":"a6af2b38-5d77-3895-9004-7b174c2f65e9","targetPort":"value"},{"sourceId":"a6af2b38-5d77-3895-9004-7b174c2f65e9","sourcePort":"savedValue","targetId":"b2e82e2d-d0cf-83e8-dfee-71273860cb1d","targetPort":"value-Selected Tab"},{"sourceId":"43616202-a727-5288-a602-887727133f09","sourcePort":"Items","targetId":"3c21bf59-6d04-7f77-3524-52e610e1e738","targetPort":"in-Items"},{"sourceId":"3c21bf59-6d04-7f77-3524-52e610e1e738","sourcePort":"out-Items","targetId":"76c9b30e-fa86-e163-85d9-5150e91bdcc2","targetPort":"items"},{"sourceId":"ee906d8e-856b-ba55-dbde-fafd2ab85c8d","sourcePort":"stored","targetId":"4950f667-d517-d323-4e47-cb69578c339e","targetPort":"Selected Tab Changed"},{"sourceId":"b2e82e2d-d0cf-83e8-dfee-71273860cb1d","sourcePort":"value-Selected Tab","targetId":"4950f667-d517-d323-4e47-cb69578c339e","targetPort":"Selected Tab"}],"ports":[{"name":"Items","type":"array","default":"[\n    {\n        Label:\"Monthly\",\n        Value:\"1\"\n    },\n    {\n        Label:\"Yearly\",\n        Value:\"2\"\n    },\n\n]","group":"Inputs","plug":"input","index":0},{"name":"Selected Tab","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Selected Tab","type":{"name":"string"},"default":"","plug":"input","index":1},{"name":"Selected Tab Changed","type":"signal","plug":"output","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":3},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":6},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"default":"center","group":"Alignment","plug":"input","index":7},{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"default":"center","group":"Alignment","plug":"input","index":8},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":{"value":50,"unit":"%"},"group":"Dimension","plug":"input","index":9}],"roots":["9e1ba0e2-6409-e9b6-7bfd-e5f1b6659bc6"]},{"name":"/Tab Bar/Tab Bar Item","nodes":[{"id":"9a01d2f0-2890-3b1e-be37-1acd1fdcf006","type":"Group","parameters":{"sizeMode":"explicit","justifyContent":"center","alignItems":"center","styleCss":"cursor:pointer;","borderBottomWidth":{"value":2,"unit":"px"},"borderBottomColor":"Primary"},"stateParameters":{"hover":{"backgroundColor":"Grey - 200"}},"ports":[],"children":[{"id":"9a1f0f58-d41b-144a-aeb5-14adb593c5b4","type":"Text","parameters":{"position":"absolute","alignY":"center","textAlignX":"center","textStyle":"Label Medium","color":"Grey - 900"},"ports":[],"children":[]},{"id":"c2ad0d4e-eb67-86e2-3691-3433d0e435ad","type":"Group","parameters":{"backgroundColor":"Primary","height":{"value":2,"unit":"px"},"position":"absolute","alignY":"bottom","marginBottom":{"value":0,"unit":"px"},"transformY":{"value":0,"unit":"px"},"boxShadowBlurRadius":{"value":0,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":0,"unit":"px"},"boxShadowColor":"Primary"},"ports":[],"children":[]}]},{"id":"19c02c34-91c8-22d6-7df7-3f7730000c91","type":"Model2","parameters":{"idSource":"foreach","properties":"Label,Value"},"ports":[],"children":[]},{"id":"19793bde-f10d-bef9-ed1f-e88aaf8be1ef","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"ae33af5e-942b-86c0-1ea9-51d40fd1de23","type":"States","parameters":{"states":"Selected,Neutral","currentState":"0","values":"color","type-color":"color","value-1-border":2,"value-0-border":0,"useTransitions":false,"value-Selected-color":"Primary","value-Neutral-color":"Grey - 700"},"ports":[],"children":[]},{"id":"006f7028-71f1-174f-aab2-ea5da346ed8a","type":"net.noodl.ParentComponentObject","parameters":{"properties":"Selected Tab"},"ports":[],"children":[]},{"id":"04ca970a-2db3-7160-10a4-91e4b0ae3095","type":"Expression","parameters":{"expression":"thisTab === selectedTab?\"Selected\":\"Neutral\""},"ports":[],"children":[]}],"connections":[{"sourceId":"19c02c34-91c8-22d6-7df7-3f7730000c91","sourcePort":"prop-Label","targetId":"9a1f0f58-d41b-144a-aeb5-14adb593c5b4","targetPort":"text"},{"sourceId":"9a01d2f0-2890-3b1e-be37-1acd1fdcf006","sourcePort":"onClick","targetId":"19793bde-f10d-bef9-ed1f-e88aaf8be1ef","targetPort":"Item Clicked"},{"sourceId":"19c02c34-91c8-22d6-7df7-3f7730000c91","sourcePort":"prop-Value","targetId":"04ca970a-2db3-7160-10a4-91e4b0ae3095","targetPort":"thisTab"},{"sourceId":"006f7028-71f1-174f-aab2-ea5da346ed8a","sourcePort":"value-Selected Tab","targetId":"04ca970a-2db3-7160-10a4-91e4b0ae3095","targetPort":"selectedTab"},{"sourceId":"ae33af5e-942b-86c0-1ea9-51d40fd1de23","sourcePort":"color","targetId":"9a1f0f58-d41b-144a-aeb5-14adb593c5b4","targetPort":"color"},{"sourceId":"ae33af5e-942b-86c0-1ea9-51d40fd1de23","sourcePort":"at-Selected","targetId":"c2ad0d4e-eb67-86e2-3691-3433d0e435ad","targetPort":"mounted"},{"sourceId":"04ca970a-2db3-7160-10a4-91e4b0ae3095","sourcePort":"result","targetId":"ae33af5e-942b-86c0-1ea9-51d40fd1de23","targetPort":"currentState"}],"ports":[{"name":"Item Clicked","type":"signal","plug":"output","index":1}],"roots":["9a01d2f0-2890-3b1e-be37-1acd1fdcf006"]}]